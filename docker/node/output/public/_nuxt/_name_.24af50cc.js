import{_ as v,a as $}from"./layout.9bb81d54.js";import{_ as B}from"./PostList.vue.fde46a2a.js";import{a as C,L as w,G as D,m as I,k as N,f as R,A as u,o as c,c as S,w as m,C as q,p as _,u as s,l as p,h as g,D as M}from"./entry.5c70c2cd.js";const P={class:"w-full",style:{"min-height":"590px"}},T={class:"text-center mt-4"},U={key:1,class:"text-slate-600"},F=C({__name:"[name]",setup(V){const d=w(),{tagsMap:f}=d,x=D(),h=M(),e=x.params.name,L=f.get(e).id,b=I("tagImg");N({title:`标签 ${e}`});const y=R(()=>t.postList.length!==t.total),t=u({postList:[],total:0}),o=u({current:0,size:10});async function i(){o.current=o.current+1;const{data:r}=await q(`/tag/${L}/post/list`,{baseURL:h.public.baseUrl,query:{...o}},"$W6ZhxSDR1T"),l=r.value,{total:a,list:n}=l.data;t.total=a,t.postList=[...t.postList,...n]}return i(),(r,l)=>{const a=$,n=B,k=v;return c(),S(k,null,{banner:m(()=>[_(a,{"cover-img":s(b),"main-text":`标签 - ${s(e)}`,"sub-text":`总共 ${s(t).total} 篇文章`},null,8,["cover-img","main-text","sub-text"])]),content:m(()=>[p("div",P,[_(n,{"post-list":s(t).postList},null,8,["post-list"]),p("div",T,[s(y)?(c(),g("button",{key:0,class:"primary-btn",onClick:i}," 加载更多 ")):(c(),g("span",U,"已经到底了..."))])])]),_:1})}}});export{F as default};
