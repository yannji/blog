import{_ as L,a as b}from"./layout.9bb81d54.js";import{_ as v}from"./PostList.vue.fde46a2a.js";import{a as w,k as B,m as C,A as _,f as q,B as D,o as a,c as I,w as p,p as m,u as e,l as u,h as d,C as N,D as A}from"./entry.5c70c2cd.js";const P={class:"w-full",style:{"min-height":"560px"}},R={class:"text-center mt-4"},T={key:1,class:"text-slate-600"},z=w({__name:"index",async setup(U){let c,i;B({title:"首页"});const x=A(),[f,h]=C(["indexImg","indexText"]),t=_({postList:[],total:0}),s=_({current:0,size:10}),g=q(()=>t.postList.length!==t.total);async function l(){s.current=s.current+1;const{data:o}=await N("/post/list",{baseURL:x.public.baseUrl,query:{...s}},"$pqtWcjQkdb");console.log(o);const{total:r,list:n}=o.value.data;t.total=r,t.postList=[...t.postList,...n]}return[c,i]=D(()=>l()),await c,i(),(o,r)=>{const n=b,y=v,k=L;return a(),I(k,null,{banner:p(()=>[m(n,{"cover-img":e(f),"main-text":e(h)},null,8,["cover-img","main-text"])]),content:p(()=>[u("div",P,[m(y,{"post-list":e(t).postList},null,8,["post-list"]),u("div",R,[e(g)?(a(),d("button",{key:0,class:"primary-btn",onClick:l}," 加载更多 ")):(a(),d("span",T,"已经到底了..."))])])]),_:1})}}});export{z as default};
